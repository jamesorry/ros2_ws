from kalmanfilter import KalmanFilter
import cv2
from filterpy.kalman import kalman_filter
import time
# Kalman Filter
kf = KalmanFilter()

# map_file_name = "origin_map_v2.png"
map_file_name = "origin_map_v3.png"

if map_file_name == "origin_map_v2.png":
    # ! map is my_own_map_v2.pgm
    origin_position_x = -5.18
    origin_position_y = -5.53

elif map_file_name == "origin_map_v3.png":
    # ! map is my_own_map_v3.pgm
    origin_position_x = -8.8
    origin_position_y = -5.24

img = cv2.imread(map_file_name)
origin_height, origin_width, origin_channel = img.shape
map_resolution = 0.05
print("origin_height: ", origin_height)
print("origin_width: ", origin_width)
print("origin_channel: ", origin_channel)
print("origin_position_x: ", origin_position_x)
print("origin_position_y: ", origin_position_y)
fix_map_center_pixel_x = origin_position_x / map_resolution
fix_map_center_pixel_y = origin_position_y / map_resolution
print("fix_map_center_pixel_x: ", fix_map_center_pixel_x)
print("fix_map_center_pixel_y: ", fix_map_center_pixel_y)
map_center_pixel_x = (origin_width - (origin_width + fix_map_center_pixel_x))
map_center_pixel_y = origin_height + fix_map_center_pixel_y
print("map_center_pixel_x: ", map_center_pixel_x)
print("map_center_pixel_y: ", map_center_pixel_y)


target_positions = [
    (127, 230),
    (125, 229),
    (123, 230),
    (117, 230),
    (115, 230),
    (115, 230),
    (114, 230),
    (113, 229),
    (113, 229),
    (113, 229),
    (111, 229),
    (110, 230),
    (109, 230),
    (108, 230),
    (107, 230),
    (106, 230),
    (105, 230),
    (103, 229),
    (102, 229),
    (101, 229),
    (100, 229),
    (99, 229),
    (98, 229),
    (97, 230),
    (95, 230),
    (95, 229),
    (95, 229),
    (95, 229),
    (95, 229),
    (95, 230),
    (95, 230),
    (95, 231),
    (96, 232),
    (96, 233),
    (97, 234),
    (97, 234),
    (98, 235),
    (98, 235),
    (98, 235),
    (98, 234),
    (98, 233),
    (99, 229),
    (99, 228),
    (100, 226),
    (100, 225),
    (99, 225),
    (100, 224),
    (100, 224),
    (100, 223),
    (99, 223),
    (99, 222),
    (100, 221),
    (99, 220),
    (100, 219),
    (100, 218),
    (100, 216),
    (100, 215),
    (99, 214),
    (99, 213),
    (99, 212),
    (99, 211),
    (99, 208),
    (99, 207),
    (100, 205),
    (100, 204),
    (99, 202),
    (99, 200),
    (98, 199),
    (98, 197),
    (98, 194),
    (98, 192),
    (99, 191),
    (98, 189),
    (98, 187),
    (97, 185),
    (97, 183),
    (97, 180),
    (98, 178),
    (98, 176),
    (97, 174),
    (97, 172),
    (96, 170),
    (96, 167),
    (97, 164),
    (97, 163),
    (97, 161),
    (96, 159),
    (96, 156),
    (96, 154),
    (96, 152),
    (96, 151),
    (97, 148),
    (96, 144),
    (95, 142),
    (96, 140),
    (96, 138),
    (96, 136),
    (97, 134),
    (96, 132),
    (96, 130),
    (95, 128),
    (95, 126),
    (96, 123),
    (96, 119),
    (96, 118),
    (96, 117),
    (95, 115),
    (95, 113),
    (95, 112),
    (95, 110),
    (96, 106),
    (96, 104),
    (96, 103),
    (95, 101),
    (95, 100),
    (95, 98),
    (95, 97),
    (96, 96),
    (96, 94),
    (96, 91),
    (96, 90),
    (95, 89),
    (95, 87),
    (95, 86),
    (95, 85),
    (95, 83),
    (96, 82),
    (96, 81),
    (96, 80),
    (96, 78),
    (96, 78),
    (95, 76),
    (95, 75),
    (95, 74),
    (95, 74),
    (95, 73),
    (95, 72),
    (95, 72),
    (95, 71),
    (95, 71),
    (95, 70),
    (96, 70),
    (96, 69),
    (96, 69),
    (96, 66),
    (96, 65),
    (95, 66),
    (95, 67),
    (96, 69),
    (96, 70),
    (96, 71),
    (96, 72),
    (97, 72),
    (97, 71),
    (98, 71),
    (98, 70),
    (99, 70),
    (100, 69),
    (101, 69),
    (103, 67),
    (103, 66),
    (104, 65),
    (104, 64),
    (105, 63),
    (105, 62),
    (106, 61),
    (106, 61),
    (106, 60),
    (106, 59),
    (107, 59),
    (107, 59),
    (107, 59),
    (108, 59),
    (108, 59),
    (109, 58),
    (109, 58),
    (110, 58),
    (111, 57),
    (112, 57),
    (112, 56),
    (112, 55),
    (113, 55),
    (113, 54),
    (113, 53),
    (114, 52),
    (114, 51),
    (114, 50),
    (115, 50),
    (115, 50),
    (115, 50),
    (115, 50),
    (114, 49),
    (112, 52),
    (116, 50),
    (117, 49),
    (117, 50),
    (118, 52),
    (119, 54),
    (120, 55),
    (121, 55),
    (122, 54),
    (123, 54),
    (124, 55),
    (126, 55),
    (127, 55),
    (128, 55),
    (131, 54),
    (133, 53),
    (135, 53),
    (139, 53),
    (141, 54),
    (144, 53),
    (147, 52),
    (149, 52),
    (151, 52),
    (153, 53),
    (156, 53),
    (158, 52),
    (161, 51),
    (167, 52),
    (170, 52),
    (173, 52),
    (175, 51),
    (179, 51),
    (181, 51),
    (184, 52),
    (187, 52),
    (189, 51),
    (192, 51),
    (195, 51),
    (198, 51),
    (201, 51),
    (203, 51),
    (209, 51),
    (210, 51),
    (213, 51),
    (215, 51),
    (218, 50),
    (220, 50),
    (223, 50),
    (225, 51),
    (227, 51),
    (230, 51),
    (232, 50),
    (236, 50),
    (238, 50),
    (240, 51),
    (242, 51),
    (243, 51),
    (245, 50),
    (246, 50),
    (248, 49),
    (249, 49),
    (252, 50),
    (253, 50),
    (254, 50),
    (255, 50),
    (256, 50),
    (256, 50),
    (257, 50),
    (258, 49),
    (257, 49),
    (259, 48),
    (260, 48),
    (261, 47),
    (264, 45),
    (265, 43),
    (265, 42),
    (266, 40),
    (267, 38),
    (268, 37),
    (270, 34),
    (271, 33),
    (272, 31),
    (273, 30),
    (274, 29),
    (274, 28),
    (275, 27),
    (276, 27),
    (276, 27),
    (276, 27),
    (276, 28),
    (276, 28),
    (277, 28),
    (276, 28),
    (276, 29),
    (275, 29),
    (275, 29),
    (274, 30),
    (274, 30),
    (273, 30),
    (273, 30),
    (273, 31),
    (273, 31),
    (272, 31),
    (272, 31),
    (272, 31),
    (272, 31),
    (272, 30),
    (270, 30),
    (269, 30),
    (269, 28),
    (268, 27),
    (266, 26),
    (265, 25),
    (264, 25),
    (263, 24),
    (262, 25),
    (262, 23),
    (261, 23),
    (261, 22),
    (261, 22),
    (261, 21),
    (261, 21),
    (261, 21),
    (261, 20),
    (261, 19),
    (260, 18),
    (259, 17),
    (258, 18),
    (258, 16),
    (257, 16),
    (256, 15),
    (254, 15),
    (254, 14),
    (253, 14),
    (253, 13),
    (253, 12),
    (253, 12),
    (253, 11),
    (254, 11),
    (254, 11),
    (254, 11),
    (255, 11),
    (256, 11),
    (257, 11),
    (257, 11),
    (258, 11),
    (258, 13),
    (258, 13),
    (259, 12),
    (259, 12),
    (258, 12),
    (258, 12),
    (257, 12),
    (255, 12),
    (254, 13),
    (253, 13),
    (253, 13),
    (252, 14),
    (251, 14),
    (251, 15),
    (250, 14),
    (249, 14),
    (248, 14),
    (248, 14),
    (247, 13),
    (246, 13),
    (245, 14),
    (244, 15),
    (243, 15),
    (242, 15),
    (241, 15),
    (240, 16),
    (236, 16),
    (235, 15),
    (234, 15),
    (232, 15),
    (230, 14),
    (229, 14),
    (227, 14),
    (225, 15),
    (224, 15),
    (222, 15),
    (220, 14),
    (218, 14),
    (216, 13),
    (214, 13),
    (212, 14),
    (210, 14),
    (208, 13),
    (206, 13),
    (203, 12),
    (201, 12),
    (199, 12),
    (195, 13),
    (193, 12),
    (191, 11),
    (188, 11),
    (186, 11),
    (184, 11),
    (182, 12),
    (180, 12),
    (178, 11),
    (173, 10),
    (171, 11),
    (169, 11),
    (166, 11),
    (165, 11),
    (162, 10),
    (160, 10),
    (158, 11),
    (156, 11),
    (154, 11),
    (151, 11),
    (150, 10),
    (148, 10),
    (146, 10),
    (145, 10),
    (143, 10),
    (141, 11),
    (139, 11),
    (137, 10),
    (135, 9),
    (133, 9),
    (132, 10),
    (130, 10),
    (129, 10),
    (127, 11),
    (126, 11),
    (125, 10),
    (124, 10),
    (122, 10),
    (121, 9),
    (121, 9),
    (119, 9),
    (118, 10),
    (117, 10),
    (117, 10),
    (116, 10),
    (115, 11),
    (115, 11),
    (115, 11),
    (115, 11),
    (114, 10),
    (112, 10),
    (110, 10),
    (108, 9),
    (106, 10),
    (104, 11),
    (103, 11),
    (102, 11),
    (101, 11),
    (100, 11),
    (99, 11),
    (98, 11),
    (97, 10),
    (96, 10),
    (95, 10),
    (94, 9),
    (95, 9),
    (95, 10),
    (95, 10),
    (95, 10),
    (96, 11),
    (97, 11),
    (96, 11),
    (97, 10),
    (97, 10),
    (98, 10),
    (98, 10),
    (98, 10),
    (98, 10),
    (99, 10),
    (98, 10),
    (97, 10),
    (98, 11),
    (98, 11),
    (98, 12),
    (98, 12),
    (98, 13),
    (99, 14),
    (100, 15),
    (100, 16),
    (99, 17),
    (100, 18),
    (100, 19),
    (100, 21),
    (100, 21),
    (99, 23),
    (100, 24),
    (100, 25),
    (100, 27),
    (101, 30),
    (101, 31),
    (101, 32),
    (100, 32),
    (100, 32),
    (99, 33),
    (99, 33),
    (98, 34),
    (98, 34),
    (97, 36),
    (97, 36),
    (97, 37),
    (97, 38),
    (97, 39),
    (98, 40),
    (98, 41),
    (99, 42),
    (99, 43),
    (99, 46),
    (98, 47),
    (98, 48),
    (97, 51),
    (97, 52),
    (98, 53),
    (98, 55),
    (98, 56),
    (98, 58),
    (98, 61),
    (97, 62),
    (97, 64),
    (97, 66),
    (97, 68),
    (98, 69),
    (98, 71),
    (98, 73),
    (97, 75),
    (97, 77),
    (97, 79),
    (97, 81),
    (97, 83),
    (98, 85),
    (98, 87),
    (97, 88),
    (97, 91),
    (96, 92),
    (96, 94),
    (96, 96),
    (97, 97),
    (97, 99),
    (97, 101),
    (97, 103),
    (96, 105),
    (97, 109),
    (97, 110),
    (97, 112),
    (97, 114),
    (97, 115),
    (97, 117),
    (96, 119),
    (96, 121),
    (96, 122),
    (96, 123),
    (97, 125),
    (97, 128),
    (97, 129),
    (96, 131),
    (96, 132),
    (96, 134),
    (96, 135),
    (96, 136),
    (96, 137),
    (96, 138),
    (97, 140),
    (97, 141),
    (97, 142),
    (96, 143),
    (96, 144),
    (96, 145),
    (95, 146),
    (95, 146),
    (95, 147),
    (95, 148),
    (96, 149),
    (96, 149),
    (96, 150),
    (96, 150),
    (96, 150),
    (96, 152),
    (95, 153),
    (94, 154),
    (92, 155),
    (91, 156),
    (88, 158),
    (87, 159),
    (86, 159),
    (84, 160),
    (82, 161),
    (80, 162),
    (79, 163),
    (77, 164),
    (76, 165),
    (75, 167),
    (75, 168),
    (74, 170),
    (74, 171),
    (74, 171),
    (74, 172),
    (74, 172),
    (74, 173),
    (74, 174),
    (73, 174),
    (71, 177),
    (71, 178),
    (70, 179),
    (70, 181),
    (69, 183),
    (69, 184),
    (68, 185),
    (67, 187),
    (66, 188),
    (64, 190),
    (64, 191),
    (63, 193),
    (63, 195),
    (62, 197),
    (62, 198),
    (61, 199),
    (59, 202),
    (58, 203),
    (57, 204),
    (56, 206),
    (57, 207),
    (57, 208),
    (57, 209),
    (57, 209),
    (57, 210),
    (57, 211),
    (57, 211),
    (57, 211),
    (57, 212),
    (57, 214),
    (60, 216),
    (62, 216),
    (64, 217),
    (66, 217),
    (67, 218),
    (68, 218),
    (70, 220),
    (71, 221),
    (73, 222),
    (75, 223),
    (77, 226),
    (78, 227),
    (78, 228),
    (78, 229),
    (78, 230),
    (78, 231),
    (77, 231),
    (76, 231),
    (75, 231),
    (75, 231),
    (74, 231),
    (73, 231),
    (73, 231),
    (71, 229),
    (71, 229),
    (71, 228),
    (71, 227),
    (71, 227),
    (72, 226),
    (73, 227),
    (75, 226),
    (76, 226),
    (76, 225),
    (77, 225),
    (78, 225),
    (79, 225),
    (79, 225),
    (80, 226),
    (80, 226),
    (81, 226),
    (81, 226),
    (82, 226),
    (83, 227),
    (84, 227),
    (85, 227),
    (86, 227),
    (87, 227),
    (87, 227),
    (88, 226),
    (90, 226),
    (91, 226),
    (94, 225),
    (95, 226),
    (96, 226),
    (98, 227),
    (99, 227),
    (100, 227),
    (101, 227),
    (103, 227),
    (105, 226),
    (106, 226),
    (107, 227),
    (109, 227),
    (111, 228),
    (113, 228),
    (114, 228),
    (118, 228),
    (119, 228),
    (121, 228),
    (123, 228),
    (124, 228),
    (126, 229),
    (129, 229),
    (130, 229),
    (131, 228),
    (134, 228),
    (137, 229),
    (139, 229),
    (141, 229),
    (143, 230),
    (144, 230),
    (146, 229),
    (148, 229),
    (150, 229),
    (151, 229),
    (154, 230),
    (156, 230),
    (157, 230),
    (158, 230),
    (160, 229),
    (163, 229),
    (165, 229),
    (167, 230),
    (169, 230),
    (171, 230),
    (172, 230),
    (174, 229),
    (176, 229),
    (177, 229),
    (179, 229),
    (180, 230),
    (183, 231),
    (185, 230),
    (186, 230),
    (188, 229),
    (189, 229),
    (191, 229),
    (192, 230),
    (193, 230),
    (195, 231),
    (196, 231),
    (198, 230),
    (200, 230),
    (201, 229),
    (202, 229),
    (203, 229),
    (204, 229),
    (205, 229),
    (206, 230),
    (208, 230),
    (209, 230),
    (209, 231),
    (210, 231),
    (211, 231),
    (211, 230),
    (212, 230),
    (213, 230),
    (213, 229),
    (214, 229),
    (214, 229),
    (215, 229),
    (215, 229),
    (215, 229),
    (217, 229),
    (218, 228),
    (221, 227),
    (222, 225),
    (224, 223),
    (226, 222),
    (227, 220),
    (228, 219),
    (230, 216),
    (231, 214),
    (232, 212),
    (232, 211),
    (233, 210),
    (234, 209),
    (234, 208),
    (235, 208),
    (235, 207),
    (235, 207),
    (235, 206),
    (236, 205),
    (236, 203),
    (235, 201),
    (234, 199),
    (234, 198),
    (234, 196),
    (233, 195),
    (233, 194)

]

predicted_positions = [
    (122, 230),
    (119, 229),
    (117, 229),
    (114, 229),
    (111, 229),
    (109, 229),
    (108, 229),
    (106, 229),
    (106, 229),
    (106, 229),
    (106, 228),
    (105, 229),
    (105, 229),
    (105, 229),
    (104, 229),
    (104, 229),
    (103, 229),
    (102, 229),
    (101, 229),
    (100, 229),
    (99, 229),
    (98, 229),
    (97, 229),
    (96, 229),
    (94, 229),
    (93, 229),
    (93, 229),
    (92, 229),
    (92, 229),
    (92, 229),
    (92, 229),
    (92, 230),
    (93, 230),
    (94, 231),
    (95, 232),
    (95, 233),
    (96, 234),
    (97, 235),
    (97, 235),
    (97, 235),
    (98, 234),
    (98, 233),
    (99, 231),
    (99, 229),
    (100, 227),
    (99, 225),
    (100, 224),
    (100, 223),
    (100, 222),
    (100, 221),
    (99, 220),
    (100, 219),
    (99, 219),
    (99, 218),
    (99, 217),
    (100, 215),
    (100, 214),
    (99, 213),
    (99, 212),
    (99, 211),
    (99, 210),
    (99, 208),
    (99, 206),
    (99, 205),
    (99, 203),
    (99, 201),
    (99, 199),
    (98, 197),
    (98, 196),
    (98, 193),
    (98, 191),
    (98, 189),
    (98, 187),
    (97, 185),
    (97, 183),
    (97, 181),
    (97, 179),
    (97, 177),
    (97, 174),
    (97, 172),
    (97, 170),
    (96, 168),
    (96, 165),
    (96, 163),
    (96, 161),
    (96, 159),
    (96, 156),
    (96, 154),
    (95, 152),
    (95, 150),
    (95, 148),
    (96, 146),
    (96, 143),
    (95, 140),
    (95, 138),
    (95, 136),
    (95, 133),
    (96, 131),
    (96, 129),
    (96, 127),
    (95, 125),
    (95, 123),
    (95, 121),
    (95, 118),
    (95, 116),
    (95, 114),
    (95, 112),
    (95, 110),
    (95, 109),
    (95, 107),
    (95, 105),
    (95, 102),
    (95, 101),
    (95, 99),
    (95, 97),
    (95, 95),
    (95, 94),
    (95, 93),
    (95, 91),
    (95, 89),
    (95, 88),
    (95, 86),
    (95, 85),
    (95, 83),
    (95, 82),
    (95, 81),
    (95, 80),
    (95, 78),
    (95, 77),
    (95, 76),
    (95, 75),
    (95, 74),
    (95, 73),
    (95, 72),
    (95, 71),
    (95, 71),
    (95, 70),
    (94, 70),
    (94, 69),
    (94, 69),
    (94, 68),
    (95, 68),
    (95, 67),
    (95, 67),
    (95, 66),
    (95, 65),
    (95, 64),
    (95, 64),
    (95, 65),
    (95, 66),
    (96, 68),
    (95, 69),
    (96, 70),
    (96, 70),
    (97, 71),
    (97, 71),
    (98, 70),
    (98, 70),
    (100, 70),
    (101, 69),
    (102, 67),
    (103, 66),
    (104, 65),
    (105, 63),
    (105, 62),
    (106, 61),
    (107, 60),
    (107, 59),
    (107, 58),
    (107, 57),
    (107, 57),
    (107, 56),
    (108, 57),
    (108, 57),
    (109, 56),
    (109, 56),
    (109, 56),
    (110, 56),
    (111, 56),
    (112, 56),
    (112, 55),
    (113, 54),
    (113, 54),
    (113, 53),
    (114, 52),
    (114, 51),
    (114, 50),
    (115, 49),
    (115, 48),
    (115, 48),
    (115, 48),
    (115, 47),
    (114, 48),
    (115, 48),
    (115, 48),
    (116, 48),
    (117, 49),
    (117, 51),
    (119, 52),
    (120, 53),
    (121, 54),
    (122, 54),
    (123, 55),
    (125, 55),
    (126, 55),
    (128, 55),
    (130, 55),
    (132, 54),
    (134, 54),
    (137, 54),
    (140, 53),
    (143, 53),
    (146, 52),
    (149, 52),
    (151, 52),
    (154, 52),
    (157, 52),
    (159, 52),
    (162, 51),
    (166, 51),
    (170, 51),
    (173, 51),
    (176, 51),
    (180, 51),
    (183, 50),
    (186, 51),
    (189, 51),
    (192, 51),
    (194, 51),
    (197, 51),
    (200, 50),
    (203, 50),
    (206, 50),
    (209, 50),
    (212, 50),
    (215, 50),
    (218, 50),
    (220, 50),
    (223, 50),
    (225, 50),
    (228, 50),
    (230, 50),
    (232, 50),
    (234, 50),
    (237, 50),
    (240, 50),
    (242, 50),
    (244, 50),
    (246, 50),
    (248, 50),
    (249, 50),
    (251, 49),
    (252, 49),
    (254, 49),
    (255, 49),
    (256, 49),
    (257, 49),
    (258, 49),
    (259, 49),
    (259, 49),
    (260, 49),
    (260, 49),
    (260, 48),
    (261, 48),
    (262, 47),
    (263, 46),
    (265, 44),
    (265, 43),
    (266, 41),
    (267, 39),
    (268, 37),
    (270, 35),
    (271, 33),
    (272, 31),
    (273, 29),
    (274, 27),
    (275, 26),
    (276, 24),
    (277, 24),
    (277, 23),
    (278, 23),
    (278, 24),
    (278, 24),
    (278, 25),
    (277, 25),
    (277, 26),
    (276, 27),
    (276, 27),
    (275, 28),
    (275, 29),
    (274, 29),
    (273, 29),
    (273, 30),
    (272, 30),
    (272, 31),
    (271, 31),
    (271, 31),
    (271, 31),
    (271, 31),
    (270, 30),
    (269, 30),
    (269, 29),
    (268, 28),
    (266, 27),
    (265, 26),
    (264, 25),
    (263, 24),
    (261, 23),
    (261, 22),
    (260, 22),
    (259, 21),
    (259, 21),
    (258, 20),
    (258, 19),
    (259, 19),
    (259, 19),
    (259, 18),
    (259, 17),
    (258, 16),
    (258, 16),
    (257, 15),
    (257, 15),
    (255, 14),
    (254, 14),
    (253, 13),
    (251, 12),
    (251, 12),
    (250, 11),
    (249, 11),
    (249, 10),
    (249, 9),
    (250, 9),
    (250, 9),
    (251, 9),
    (252, 9),
    (253, 9),
    (254, 9),
    (255, 10),
    (256, 10),
    (258, 11),
    (258, 11),
    (259, 11),
    (259, 12),
    (259, 12),
    (258, 12),
    (257, 12),
    (256, 12),
    (255, 12),
    (254, 12),
    (252, 13),
    (251, 13),
    (250, 14),
    (249, 14),
    (248, 14),
    (247, 14),
    (247, 14),
    (246, 14),
    (245, 13),
    (244, 13),
    (243, 14),
    (242, 14),
    (241, 14),
    (240, 14),
    (239, 15),
    (237, 15),
    (235, 15),
    (234, 15),
    (232, 15),
    (230, 15),
    (228, 14),
    (226, 14),
    (224, 14),
    (222, 14),
    (220, 14),
    (218, 14),
    (216, 14),
    (214, 13),
    (212, 13),
    (210, 13),
    (208, 13),
    (206, 13),
    (204, 13),
    (202, 12),
    (200, 12),
    (197, 11),
    (194, 12),
    (192, 11),
    (189, 11),
    (187, 11),
    (185, 10),
    (182, 10),
    (180, 10),
    (178, 11),
    (175, 11),
    (172, 10),
    (169, 10),
    (167, 10),
    (164, 10),
    (162, 10),
    (159, 10),
    (157, 10),
    (155, 10),
    (153, 10),
    (151, 10),
    (149, 10),
    (147, 10),
    (145, 10),
    (143, 10),
    (142, 10),
    (140, 9),
    (138, 10),
    (137, 10),
    (135, 10),
    (133, 9),
    (131, 9),
    (129, 9),
    (127, 9),
    (126, 9),
    (125, 10),
    (123, 10),
    (122, 10),
    (121, 10),
    (120, 10),
    (118, 9),
    (118, 9),
    (117, 9),
    (116, 9),
    (115, 9),
    (114, 9),
    (114, 9),
    (113, 10),
    (113, 10),
    (112, 10),
    (112, 10),
    (112, 10),
    (111, 10),
    (110, 10),
    (108, 10),
    (107, 10),
    (105, 10),
    (103, 10),
    (101, 10),
    (100, 10),
    (98, 10),
    (97, 11),
    (96, 11),
    (95, 10),
    (94, 10),
    (93, 10),
    (92, 9),
    (92, 9),
    (92, 9),
    (92, 9),
    (92, 9),
    (93, 10),
    (94, 10),
    (94, 10),
    (95, 10),
    (95, 10),
    (96, 10),
    (97, 10),
    (97, 10),
    (98, 10),
    (98, 10),
    (98, 10),
    (98, 10),
    (98, 10),
    (98, 10),
    (98, 11),
    (98, 11),
    (98, 12),
    (98, 12),
    (99, 13),
    (99, 15),
    (99, 16),
    (99, 17),
    (99, 18),
    (100, 20),
    (100, 21),
    (99, 22),
    (100, 24),
    (100, 25),
    (100, 26),
    (100, 29),
    (100, 30),
    (100, 32),
    (100, 33),
    (100, 34),
    (100, 35),
    (99, 35),
    (99, 36),
    (98, 36),
    (97, 37),
    (97, 37),
    (96, 38),
    (96, 38),
    (96, 39),
    (96, 40),
    (96, 41),
    (97, 42),
    (98, 43),
    (98, 45),
    (98, 46),
    (98, 48),
    (97, 50),
    (97, 51),
    (97, 53),
    (97, 55),
    (97, 56),
    (98, 58),
    (97, 60),
    (97, 62),
    (97, 64),
    (97, 66),
    (97, 68),
    (97, 70),
    (97, 72),
    (97, 74),
    (97, 76),
    (97, 78),
    (97, 80),
    (97, 82),
    (97, 84),
    (97, 86),
    (97, 88),
    (97, 90),
    (97, 92),
    (96, 93),
    (96, 95),
    (96, 97),
    (96, 99),
    (96, 100),
    (96, 102),
    (96, 104),
    (96, 106),
    (96, 109),
    (96, 111),
    (96, 113),
    (96, 115),
    (97, 117),
    (96, 119),
    (96, 120),
    (96, 122),
    (96, 124),
    (96, 125),
    (96, 127),
    (96, 129),
    (96, 130),
    (96, 132),
    (96, 133),
    (96, 135),
    (96, 136),
    (96, 138),
    (96, 139),
    (95, 140),
    (96, 141),
    (96, 142),
    (96, 143),
    (96, 144),
    (96, 145),
    (96, 146),
    (95, 147),
    (95, 148),
    (95, 148),
    (95, 149),
    (95, 150),
    (95, 150),
    (95, 151),
    (95, 151),
    (95, 151),
    (95, 152),
    (95, 153),
    (95, 154),
    (93, 155),
    (92, 156),
    (90, 157),
    (88, 158),
    (87, 159),
    (85, 160),
    (83, 161),
    (80, 162),
    (78, 163),
    (76, 164),
    (76, 166),
    (75, 167),
    (72, 170),
    (72, 170),
    (71, 171),
    (70, 172),
    (71, 173),
    (70, 173),
    (71, 174),
    (71, 175),
    (71, 175),
    (70, 177),
    (70, 178),
    (69, 179),
    (69, 180),
    (68, 182),
    (68, 184),
    (67, 185),
    (66, 187),
    (66, 188),
    (64, 190),
    (63, 191),
    (62, 193),
    (61, 195),
    (61, 197),
    (60, 199),
    (59, 200),
    (58, 202),
    (57, 204),
    (56, 205),
    (55, 207),
    (55, 208),
    (54, 209),
    (54, 210),
    (55, 211),
    (55, 212),
    (55, 213),
    (55, 213),
    (55, 213),
    (56, 214),
    (56, 214),
    (57, 216),
    (58, 216),
    (60, 217),
    (63, 218),
    (65, 218),
    (67, 219),
    (69, 220),
    (70, 221),
    (72, 222),
    (74, 223),
    (76, 225),
    (78, 226),
    (79, 228),
    (80, 229),
    (81, 230),
    (81, 231),
    (80, 232),
    (80, 233),
    (78, 233),
    (77, 233),
    (76, 233),
    (75, 233),
    (74, 232),
    (72, 231),
    (71, 231),
    (70, 230),
    (70, 228),
    (69, 228),
    (70, 226),
    (70, 226),
    (71, 225),
    (73, 225),
    (74, 224),
    (75, 224),
    (76, 224),
    (77, 224),
    (78, 223),
    (79, 224),
    (80, 224),
    (81, 225),
    (82, 225),
    (82, 225),
    (83, 226),
    (84, 226),
    (85, 226),
    (86, 226),
    (87, 227),
    (87, 227),
    (88, 226),
    (89, 226),
    (91, 226),
    (92, 226),
    (94, 226),
    (96, 225),
    (97, 226),
    (99, 226),
    (100, 226),
    (102, 226),
    (103, 226),
    (105, 226),
    (106, 226),
    (108, 226),
    (109, 226),
    (111, 227),
    (113, 227),
    (114, 227),
    (117, 228),
    (119, 228),
    (121, 228),
    (123, 228),
    (125, 228),
    (127, 228),
    (129, 228),
    (131, 229),
    (133, 228),
    (135, 228),
    (137, 228),
    (139, 228),
    (142, 229),
    (144, 229),
    (146, 229),
    (148, 229),
    (149, 229),
    (151, 229),
    (153, 229),
    (155, 229),
    (157, 229),
    (159, 229),
    (160, 230),
    (162, 229),
    (164, 229),
    (166, 229),
    (168, 229),
    (170, 229),
    (172, 229),
    (174, 229),
    (175, 229),
    (177, 229),
    (179, 229),
    (180, 229),
    (182, 229),
    (184, 229),
    (186, 230),
    (187, 229),
    (189, 229),
    (191, 229),
    (192, 229),
    (194, 229),
    (195, 229),
    (196, 230),
    (197, 230),
    (199, 230),
    (201, 230),
    (202, 229),
    (203, 229),
    (204, 229),
    (205, 229),
    (206, 229),
    (207, 229),
    (208, 229),
    (210, 229),
    (210, 230),
    (211, 230),
    (212, 230),
    (213, 230),
    (213, 230),
    (214, 230),
    (214, 230),
    (215, 229),
    (215, 229),
    (216, 229),
    (216, 229),
    (216, 228),
    (217, 228),
    (217, 228),
    (219, 227),
    (221, 226),
    (223, 224),
    (224, 223),
    (226, 221),
    (228, 219),
    (229, 217),
    (231, 215),
    (233, 212),
    (233, 210),
    (234, 209),
    (235, 207),
    (236, 206),
    (237, 205),
    (237, 204),
    (237, 204),
    (237, 203),
    (237, 203),
    (237, 202),
    (236, 200),
    (236, 199),
    (235, 197),
    (235, 196),
    (234, 194),
    (233, 193)
]
for pt in target_positions:
    cv2.circle(img, pt, 1, color=(0, 0, 255), thickness=1)

# for i in range(len(target_positions) - 1):
#     cv2.line(img, target_positions[i], target_positions[i+1],
#              color=(255, 255, 0), thickness=1)

for pt in predicted_positions:
    cv2.circle(img, pt, 1, color=(255, 0, 0), thickness=1)

# for i in range(len(predicted_positions) - 1):
#     cv2.line(
#         img, predicted_positions[i], predicted_positions[i+1], color=(255, 0, 0), thickness=1)

dsize = (int(2.0 * origin_width),
         int(2.0 * origin_height))
img = cv2.resize(img, dsize)

while(True):
    cv2.imshow("Img", img)
    key = cv2.waitKey(1)

    if key & 0xFF == ord('q'):
        break
    elif key == ord('s'):
        print("save")
        # cv2.imwrite(filename="origin_map_v3_result2_target.png", img=img)  # 紅色點
        cv2.imwrite(filename="origin_map_v3_result2_predict.png",
                    img=img)  # 藍色點

cv2.destroyAllWindows()
